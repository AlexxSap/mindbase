https://github.com/golang/example/tree/master/slog-handler-guide

Пакет стандартной библиотеки log/slog состоит из двух частей: внешней и внутренней. Внешняя часть реализована типом Logger, собирает структурированную информацию логов, и передает их внутренней части, реализации интерфейса Handler. 

Пакет slog поставляется с двумя встроенными обработчиками, которых обычно должно быть достаточно. Но нам может потребоваться написать кастомный обработчик. 

Для создания кастомного обработчика существует 4 метода:

1) Enabled: представляет собой оптимизацию, позволяющую избежать ненужной работы. Метод вывода Logger будет вызываться Enabled перед обработкой любого из своих аргументов, чтобы проверить, следует ли продолжать работу.

```go
Enabled(context.Context, Level) bool
```

2) Handle: этому методу передается файл Record, содержащий всю информацию, которая должна быть зарегистрирована для одного вызова метода вывода Logger.

```go
Handle(context.Context, Record) error
```

3) WithAttrs. Одной из оптимизаций производительности slog является поддержка атрибутов предварительного форматирования. Метод Logger.With преобразует пары ключ-значение в Attrs, а затем вызывает Handler.WithAttrs. 

Обработчик может сохранить атрибуты для последующего использования методом Handle или может воспользоваться возможностью отформатировать атрибуты сейчас, один раз, а не делать это повторно при каждом вызове Handle.

```go
WithAttrs(attrs []Attr) Handler
```

4) WithGroup: Logger.WithGroup вызывает Handler.WithGroup напрямую, с тем же аргументом, именем группы. Обработчик должен запомнить имя, чтобы использовать его для определения всех последующих атрибутов.

```go

WithGroup(name string) Handler
```