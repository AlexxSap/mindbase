Микросервисная архитектура — это подход к проектированию систем, в котором за каждую часть бизнес логики отвечает отдельный модуль. Каждый микросервис обычно выполняет одну конкретную функцию и взаимодействует с другими модулями через API. Такой подход — противоположность монолитной архитектуры. Монолит — это когда все сервисы объединены в одну кодовую базу. 
Хороший микросервис должен быть небольшим, автономным, обходиться собственной изолированной базой данных и «закрывать» конкретную потребность.

## Преимущества

- **Быстрый запуск**. Микросервис можно запустить гораздо быстрее, чем монолит.
- **Масштабируемость.**  Можно масштабировать сервисы независимо.
- **Упрощение кодовой базы**. Для поддержки микросервиса программистам не нужно знать весь код всего продукта
- **Независимое развертывание**. Разработчики могут частично обновлять сервер, делать канареечные релизы (осторожно внедрять новую версию приложения в продакшн) и проверять нововведения без резких переходов к новой версии (сине-зелёное развертывание). Всё это упрощает процесс разработки.
- **Гибкость**. При создании микросервисов для проекта вы можете использовать столько языков программирования, фреймворков и инструментов, сколько захотите.

## Недостатки

Конечно, микросервисный подход не лишён недостатков. При кажущейся простоте и логичности деления большого продукта на самостоятельные сервисы разработка распределённой системы — процесс сложный и с технической, и с организационной точек зрения. Плюсы могут обернуться минусами:

- Сбой одного сервиса не приведёт к полному отказу приложения, но любая распределённая система имеет и другие слабые места: потенциальные проблемы связи её элементов друг с другом, сетевые задержки, возможная неконсистентность данных.
- Вы сэкономите, если будете платить только за те ресурсы, которые потребляют микросервисы, но должны будете предусмотреть расходы на внедрение облачных технологий, отдельное развёртывание каждого нового сервиса и его покрытие отдельными тестами и мониторингами.
- Контролировать качество решения отдельных бизнес-задач проще и эффективнее, чем оценивать систему в целом, но настроить рабочие процессы большой команды разработчиков не так уж легко.

## Кому подойдёт использование микросервисной архитектуры

Если вам или вашему проекту подходит хотя бы один пункт из этого списка, задумайтесь об использовании микросервисов:

- **Большие коллективы.** Группам разработчиков, которые работают над разными микросервисами не нужно синхронизировать друг с другом каждый шаг, выбор инструментов и другие детали. Новые фичи можно разрабатывать параллельно и запускать по мере готовности.
- **Объёмные проекты со сложной архитектурой.** Обновлять и поддерживать отдельные модули намного проще, чем контролировать, как изменения скажутся на системе в целом.
- **Продукты с резко меняющимся трафиком.** Если вашим продуктом начинают чаще пользоваться в период праздников или распродаж, микросервисы позволят вам быстро масштабироваться и уменьшить риск отказа системы. К тому же вам не придётся платить за дополнительную инфраструктуру, которая нужна только в периоды пиковых нагрузок.
- **Приложения, требующие частых обновлений.** Достаточно изменить и отладить только тот модуль, который вы хотите обновить. Это существенно сокращает время разработки и приближает релиз.


## Какие инструменты использовать для создания микросервисов и работы с ними

1. Один из самых популярных способов создавать микросервисы — платформа контейнеризации Docker. Docker — универсальный инструмент с открытым кодом, совместимый с Windows, Linux и macOS. С его помощью приложение отделяется от инфраструктуры: это значит, что вы сможете беспроблемно перемещаться между облачным и локальным хранилищем. 
2. Чтобы оркестрировать контейнеры, то есть управлять работой с ними, чаще всего используют кластеры Kubernetes.
3. Неотъемлемая часть любого микросервисного проекта — балансировщик. Именно благодаря ему такую архитектуру считают более устойчивой к отказам, чем монолитную: он контролирует, чтобы нагрузка на приложение распределялась по облачным ресурсам равномерно. 

## Принципы проектирования сервисов на микросервисной архитектуре

Есть 6 проверенных временем принципов, которые необходимы для владельцев сервисов при определении и согласовании критериев качества, других системных аналитиков, технологов при разработке, модификации сервисов.

- **_Знай своего клиента_**. Каждый сервис должен знать поставщиков (сервис До) и потребителей (сервис После или Клиент). Изменения сервиса должны согласовываться с внутренним потребителем, поставщиком.
- **_Следи за своим здоровьем_**. Он означает что владельцу сервиса необходимо контролировать заявленные критерии качества, выявлять отклонения и их причины. В компании должны быть выстроены единые стандарты по метрикам качества, предъявляемым к мониторингу микросервисов.
- **_SMART цифровизации_**. Владелец сервиса должен стремиться к его в продвижению во всех возможных каналах взаимодействия с клиентом.
- **_Максимизации сквозной обработки_**. Сервис на микросервисной архитектуре не создает дублирующие документы и атрибуты, исключает повторный ввод данных, «предзаполняет» данные для процесса автоматически из мастера источников.
- **_Secure-by-Design_**. Владелец сервиса стремится обеспечить безопасность на всех этапах производственного процесса — от идеи до вывода сервиса из эксплуатации.
- **_Эволюционируй вместе с искусственным интеллектом_**. Владелец сервиса на микросервисной архитектуре стремится использовать возможности AI для создания интеллектуальных сервисов.

## Лайфхак для облечения работы с микросервисами

Одна из сложностей при огромном количестве микросервисов — это необходимость их упорядочивания и систематизации. В противном случае, можно просто утонуть в различных несвязанных наименованиях API микросервисов, тратя буквально вечность на поиски ответов в тонне документации, что есть что и как их связать.

Важным моментом, существенно облегчающим в будущем отражение связей в документации, является правильное наименование API сервисов, которое существенно упростит жизнь и поддержку версионирования.
![[Pasted image 20240410200246.png]]